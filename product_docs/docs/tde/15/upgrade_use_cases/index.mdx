---
title: "TDE pg_upgrade use cases"
navTitle: TDE pg_upgrade use cases
---

EDB supports using [pg_upgrade](https://www.postgresql.org/docs/current/pgupgrade.html) with additional [EDB upgrade arguments](../pg_upgrade_arguments) to add encryption to unencrypted systems. 
This table provides an overview of supported use cases.

| Use case                                                      | Source unencrypted server                     | Target encrypted server                                            |
|---------------------------------------------------------------|-----------------------------------------------|--------------------------------------------------------------------|
| Perform a minor upgrade and add encryption                    | Unencrypted EDB Postgres Extended Server 16.1 | Encrypted EDB Postgres Extended Server 16.2                        |
| Change the Postgres distribution and add encryption           | Unencrypted PostgreSQL 16                     | Encrypted EDB Postgres Advanced Server 16                          |
| Maintain the Postgres distribution and add encryption         | Unencrypted EDB Postgres Advanced Server 15   | Encrypted EDB Postgres Advanced Server 15                          |
| Maintain the Postgres distribution and rotate encryption keys | Encrypted EDB Postgres Advanced Server 15     | Encrypted EDB Postgres Advanced Server 15 with new encryption keys |

!!! Important
    Both source and target servers must be in the same Postgres major version. `pg_upgrade` only supports upgrades between minor versions.

## Tutorials 

* [Enable TDE on an existing EDB Postgres Advanced Server database cluster](../enabling/enabling_tde_epas/).
* [Upgrade a PostgreSQL database server to EDB Postgres Extended Server while enabling TDE](postgres_to_extended).