---
title: "Using TDE initialization options" 
description: Learn which initdb TDE options are available and when to use them
---


## Using environment variables

To simplify operations, you can set the key wrap and unwrap commands in the environment variables. 

For example:

```shell
PGDATAKEYWRAPCMD='openssl enc -e -aes128-wrap -pbkdf2 -out "%p"'
PGDATAKEYUNWRAPCMD='openssl enc -d -aes128-wrap -pbkdf2 -in "%p"'
export PGDATAKEYWRAPCMD PGDATAKEYUNWRAPCMD
```

## Setting the key parameter in postgresql.conf 

When you enable TDE for a cluster, the `initdb` command initializes the `data_encryption_key_unwrap_command` parameter in the `postgresql.conf` configuration file. The string specified in `data_encryption_key_unwrap_command` unwraps (decrypts) the data encryption key. 

The command must contain a placeholder `%p`, which is replaced with the name of the file containing the key to unwrap. The command must print the unwrapped (decrypted) key to its standard output. 

If you don't specify this parameter, the environment variable `PGDATAKEYUNWRAPCMD` is used. 

Use the special value `-` if you don't want to apply any key unwrapping command.

You must specify this parameter or the environment variable fallback if you're using data encryption. See [Securing the data encryption key](./secure_key/) for more information. 

You can set this parameter only at server start. 

This parameter is normally initialized by `initdb`. Change it only if you change the key wrap method.

For more information on the configuration files, see [PostgreSQL File Locations documentation](https://www.postgresql.org/docs/15/runtime-config-file-locations.html).
