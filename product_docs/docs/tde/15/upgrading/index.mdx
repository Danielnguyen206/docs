---
title: "Upgrading a TDE-enabled database"
navTitle: Upgrading a TDE-enabled database
description: Learn how you can use pg_upgrade to upgrade or migrate TDE databases.
---

You can use the [pg_upgrade](https://www.postgresql.org/docs/current/pgupgrade.html) with additional TDE-arguments to perform a number of upgrading and migrating operations. 
This table provides an overview of supported use cases.

| Use case                                                      | Source unencrypted server                     | Target encrypted server                                            |
|---------------------------------------------------------------|-----------------------------------------------|--------------------------------------------------------------------|
| Perform a minor upgrade and add encryption                    | Unencrypted EDB Postgres Extended Server 16.1 | Encrypted EDB Postgres Extended Server 16.2                        |
| Change the Postgres distribution and add encryption           | Unencrypted PostgreSQL 16                     | Encrypted EDB Postgres Advanced Server 16                          |
| Maintain the Postgres distribution and add encryption         | Unencrypted EDB Postgres Advanced Server 15   | Encrypted EDB Postgres Advanced Server 15                          |
| Maintain the Postgres distribution and rotate encryption keys | Encrypted EDB Postgres Advanced Server 15     | Encrypted EDB Postgres Advanced Server 15 with new encryption keys |

!!! Important
    Both source and target servers must be in the same Postgres major version. `pg_upgrade` only supports upgrades between minor versions.

## Tutorials 

* [Enable TDE on an existing EDB Postgres Advanced Server database cluster](../enabling/enabling_tde_epas/).
* [Upgrade a PostgreSQL database server to EDB Postgres Extended Server while enabling TDE](postgres_to_extended).