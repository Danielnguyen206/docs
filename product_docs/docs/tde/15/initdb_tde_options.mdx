---
title: "Initdb TDE options" 
description: Learn about the initdb options required to initialize a TDE-encrypted database. 
---

To enable encryption, use the following options with the `initdb` command or their fallback environment variables: 

| Option | Function | Supported values |
|--------|----------|------------------|
| `--data-encryption` or `-y` | Adds transparent data encryption to a database | Optional: specify an AES key length. Valid values are 128 and 256. The default is 128. |
| `--key-wrap-command=<command>` | 

| `--copy-key-from=<file>` | 


## `-y, --data-encryption`

  Initialize the new database cluster with transparent data encryption. See [Transparent Data Encryption](/tde/latest) for more information. Optionally specify an AES key length. Valid values are 128 and 256. The default is 128.

## `--copy-key-from=<file>`

  Copy the data encryption key from the given location. You can use this option to copy a key from an existing cluster when preparing a new cluster as a target for pg_upgrade.
  
## `--key-wrap-command=<command>`
 
 Specify a command to wrap (encrypt) the generated data encryption key. The command must include a [placeholder](initdb_tde/#setting-the-key-parameter-in-postgresqlconf) `%p` that specifies the file to write the wrapped key to. The unwrapped key is provided to the command on its standard input. If you don't specify this option, the [environment variable](initdb_tde/#using-environment-variables) `PGDATAKEYWRAPCMD` is used. 
 
 Use the special value `-` if you don't want to apply any key wrapping command. 
 
 You must specify this option or the environment variable fallback if you're using data encryption. See [Securing the data encryption key](./secure_key/) for more information.

## `--key-unwrap-command=<command>`

 Specify a command to unwrap (decrypt) the data encryption key. The command must include a [placeholder](initdb_tde/#setting-the-key-parameter-in-postgresqlconf) `%p` that specifies the file to read the wrapped key from. The command needs to write the unwrapped key to its standard output. If you don't specify this option, the [environment variable](initdb_tde/#using-environment-variables) `PGDATAKEYUNWRAPCMD` is used. 
 
 Use the special value `-` if you don't want to apply any key unwrapping command. 
 
 You must specify this option or the environment variable fallback if you're using data encryption. See [Securing the data encryption key](./secure_key/) for more information.
 
## `--no-key-wrap`

Disable key wrapping. The data encryption key is instead stored in plaintext in the data directory. (This option is a shortcut for setting both the wrap and the unwrap command to the special value `-`.)
  
!!!Note
   Using this option isn't secure. Use it only for testing purposes. 
  
If you select data encryption and don't specify this option, then you must provide key wrap and unwrap commands. Otherwise, `initdb` terminates with an error. 

